

# (PART\*) Create Workflows With Galaxy {-}   

# Overview {#create-workflows-with-galaxy-overview}

## Learning Objectives

1. Learn how to launch Galaxy in AnVIL and import data
1. Understand how to find, import, and run workflows
1. Visualize a sample variant using JBrowse
1. Learn how to save your history back to AnVIL
1. Show how to shut down Galaxy in AnVIL

# Preparation {#create-workflows-with-galaxy-preparation}

## Review Key Concepts

This 5-min video provides a high level summary of the exercises to follow.  Several important concepts are introduced to provide context for the exercises ([slides](https://docs.google.com/presentation/d/1nZIlyA-YIxRDYUiozl1UTXIhJJeBb7VbqlXWig7jXAk)).

## Clone Workspace

:::{.notice}
For this demo, you will need your own copy of the [`SARS-CoV-2-Genome`](https://anvil.terra.bio/#workspaces/gdscn-exercises/SARS-CoV-2-Genome) Workspace.  These instructions will walk you through cloning a copy of the Workspace.
:::

## Start Cloud Environment

:::: {.borrowed_chunk}

Note that, in order to use Galaxy, you must have access to a Terra Workspace with permission to compute (i.e. you must be a "Writer" or "Owner" of the Workspace).

Open your Workspace, and click on the “Environment configuration” button, a cloud icon on the righthand side of the screen. 

<img src="04-create-workflows-with-galaxy_files/figure-html//1yYCg4cPVBMMDghT17B4XzROieqyMH99Ex9nMm_Scm9Q_ge20e585f11_0_9.png" alt="Screenshot of the Workspace that points to the Environment configuration button, an icon of a cloud with a lightning bolt." width="100%" />

Under Galaxy, click on “Create new Environment”. Click on “Next” and “Create” to keep all settings as-is. This will take 8-10 minutes.

<img src="04-create-workflows-with-galaxy_files/figure-html//1yYCg4cPVBMMDghT17B4XzROieqyMH99Ex9nMm_Scm9Q_ge1182914a6_0_36.png" alt="The button that starts a cloud environment for Galaxy has been highlighted," width="100%" />

Click on "Open Galaxy" when the environment is ready.

<img src="04-create-workflows-with-galaxy_files/figure-html//1yYCg4cPVBMMDghT17B4XzROieqyMH99Ex9nMm_Scm9Q_ge1182914a6_0_57.png" alt="The Open Galaxy button is highlighted in the ready environment popup." width="100%" />
::::

# Exercises {#create-workflows-with-galaxy-exercises}

## Import Data

<img src="04-create-workflows-with-galaxy_files/figure-html//1KnuhIqChw7dD6IuG8T35bfqMRpvkraQGkkc7mDhHbpk_g25530dc4fb7_0_0.png" width="100%" />

## Find Workflow

<img src="04-create-workflows-with-galaxy_files/figure-html//1KnuhIqChw7dD6IuG8T35bfqMRpvkraQGkkc7mDhHbpk_g25530dc4fb7_0_149.png" width="100%" />

## Run Workflow

<img src="04-create-workflows-with-galaxy_files/figure-html//1KnuhIqChw7dD6IuG8T35bfqMRpvkraQGkkc7mDhHbpk_g25530dc4fb7_0_298.png" width="100%" />

## Explore Results

<img src="04-create-workflows-with-galaxy_files/figure-html//1KnuhIqChw7dD6IuG8T35bfqMRpvkraQGkkc7mDhHbpk_g25530dc4fb7_0_447.png" width="100%" />

## Export History

<img src="04-create-workflows-with-galaxy_files/figure-html//1KnuhIqChw7dD6IuG8T35bfqMRpvkraQGkkc7mDhHbpk_g25530dc4fb7_0_599.png" width="100%" />

## Shut Down

<img src="04-create-workflows-with-galaxy_files/figure-html//1KnuhIqChw7dD6IuG8T35bfqMRpvkraQGkkc7mDhHbpk_g25530dc4fb7_0_748.png" width="100%" />

# Instructor Guide {#create-workflows-with-galaxy-instructor-guide}

## Timeline

